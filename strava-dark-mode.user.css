/* ==UserStyle==
@name         Strava Dark Mode
@version      v0.0.5
@namespace    github.com/macx
@description  Dark Mode for Strava on Desktop
@author       macx
@license      MIT
@homepageURL  https://github.com/macx/strava-dark-mode
@supportURL   https://github.com/macx/strava-dark-mode/issues
@updateURL    https://raw.githubusercontent.com/macx/strava-dark-mode/main/strava-dark-mode.user.css

==/UserStyle== */

@-moz-document domain("strava.com") {
  /* strava.com*/

  :root {
    --clr-bg: #121b20;
    --clr-bg--content: #253640;
    --clr-primary: #fc5200;
    --clr-text: #f1f7fb;
    --clr-text--light: #94a3b8;
    --clr-text--medium: #64748b;
  }

  body {
    background-color: var(--clr-bg);
    color: var(--clr-text);
  }

  /*
  ┌──────────────────────────────────┐
    HEADER
  └──────────────────────────────────┘
  */

  #global-header {
    background-color: var(--clr-bg--content);
    border-bottom: 0;
    margin-top: 0;
    box-shadow: 0 0 1.5rem rgba(0, 0, 0, 0.5);
  }

  #global-header .nav-group .drop-down-menu .selection {
    border-left: 0;
    border-right: 0;
  }

  #global-header .nav-bar .nav-link {
    color: var(--clr-text--light);
  }

  .drop-down-menu a,
  .drop-down-menu .clickable,
  .dropdown a,
  .dropdown .clickable,
  .ActivityEntryBody--activity-entry-container--iYy-k
    .ActivityEntryBody--achievements-summary--bsU2g
    li
    strong {
    color: var(--clr-text--light);
  }

  .LocationAndTime--subtitle-wrapper--6yH0n time,
  .LocationAndTime--subtitle-wrapper--6yH0n .LocationAndTime--location--Djc4K,
  .ActivityEntryBody--activity-entry-container--iYy-k
    .ActivityEntryBody--stats--G90hq
    .ActivityEntryBody--stat-label--47Ktd,
  .ActivityEntryBody--activity-entry-container--iYy-k
    .ActivityEntryBody--achievements-summary--bsU2g
    li
    a.ActivityEntryBody--achievements-link--CZvjJ,
  .ActivityEntryBody--activity-entry-container--iYy-k
    .ActivityEntryBody--achievements-summary--bsU2g,
  .ActivityEntryBody--activity-entry-container--iYy-k
    .ActivityEntryBody--stat-subtext--Vo0Ha,
  .KudosAndComments--kudos-and-comments--RTN8b
    .KudosAndComments--count-button--L2QfK,
  .CommentsThread--comment--ryaZV time {
    color: var(--clr-text--medium);
  }

  .CommentsThread--more-comments-button--MnE\+d {
    color: var(--clr-text) !important;
  }

  #global-header .nav-bar .selected .nav-link {
    color: var(--clr-text);
  }

  .branding {
    background-position: left top;
  }

  #global-search-bar .icon-search {
    background-position: left -46px;
  }

  /* Remove upgrade button 😧 */
  .nav-item.upgrade {
    display: none !important;
  }

  /*
  ┌──────────────────────────────────┐
    CONTENT
  └──────────────────────────────────┘
  */

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  .h1,
  .h2,
  .h3,
  .h4,
  .h5,
  .h6 {
    color: var(--clr-text);
  }

  .stat-subtext {
    color: var(--clr-text--light);
  }

  .ActivityEntryBody--activity-entry-container--iYy-k
    .ActivityEntryBody--activity-name--AGMA5
    a.ActivityEntryBody--activity-name--AGMA5,
  .Activity--card--GP9rq a:not(.Activity--btn--0fOye):link,
  .Activity--card--GP9rq a:not(.Activity--btn--0fOye):visited,
  .Activity--card--GP9rq .Activity--btn--0fOye.Activity--btn-link--JK2Iw:link,
  .Activity--card--GP9rq
    .Activity--btn--0fOye.Activity--btn-link--JK2Iw:visited {
    color: var(--clr-text);
  }

  .ActivityEntryBody--activity-entry-container--iYy-k
    .ActivityEntryBody--stats--G90hq {
    color: var(--clr-text--light);
  }

  .card,
  .Activity--card--GP9rq,
  .GroupActivity--card--oCRxr,
  .Card--card--8qT2W,
  .AthleteJoinEntry--card---CeVY {
    background-color: var(--clr-bg--content);
    background-image: linear-gradient(
      to bottom,
      var(--clr-bg--content),
      var(--clr-bg)
    );
  }

  /* Avatar */
  .EntryHeader--icon-container--f6C3J {
    background-color: transparent;
  }

  .Avatar--badge--dPtDC path:first-child {
    fill: var(--clr-bg);
  }

  .AvatarGroup--avatar--8ZPsx {
    border-color: var(--clr-bg);
  }

  /*
  ┌──────────────────────────────────┐
    MAPS
  └──────────────────────────────────┘
  */

  .PhotosAndMapImage--entry-images--M264M
    .PhotosAndMapImage--entry-image-wrapper--LaoWz {
    filter: inverse(100%);
  }

  /*
  ┌──────────────────────────────────┐
    MISC
  └──────────────────────────────────┘
  */

  /* Menu Arrows*/
  .app-icon.icon-dark {
    background-position: 0 66.66666666%;
  }
}
